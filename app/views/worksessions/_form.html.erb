<%= form_with(model: worksession, local: true) do |form| %>
  <% if worksession.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(worksession.errors.count, "error") %> prohibited this worksession from being saved:</h2>

      <ul>
      <% worksession.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :title %>
    <%= form.text_field :title %>
  </div>

  <div class="field">
    <%= form.label :description %>
    <%= form.text_area :description %>
  </div>

  <div class="field">
    <%= form.label :date %>
    <%= form.date_select :date %>
  </div>

  <div class="field">
    <%= form.label :period %>
    <%= form.text_field :period %>
  </div>

  <h6 class="card-subtitle text-muted my-2">Compétences</h6>
  <div class="form-check">
    <div class="container">
      <div class="row">
        <%= form.collection_check_boxes(:skill_ids, Skill.all, :id, :title) do |b| %>
          <div class="col-4">
            <%= b.label(class: "form-check-label mx-1") { b.check_box + b.text } %>
          </div>
        <% end %>
      </div>
    </div>
  </div>

  <h6 class="card-subtitle text-muted my-2">Elèves</h6>
  <div class="form-check">
    <div class="container">
      <div class="row">
        <%= form.collection_check_boxes(:student_ids, Student.all, :id, :first_name) do |b| %>
          <div class="col-4">
            <%= b.label(class: "form-check-label mx-1") { b.check_box + b.text } %>
          </div>
        <% end %>
      </div>
    </div>
  </div>

  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>
